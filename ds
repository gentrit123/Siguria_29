import random, sys, os,Generate, cmath
import xml.etree.ElementTree as xml
import base64
from Crypto.Cipher import DES
from Crypto import Random
from os import sys
import binascii

from Crypto.PublicKey import RSA

from Crypto.Cipher import PKCS1_OAEP


m=sys.argv[1]
def func():
   #Dekriptimi me caesar crypt ne gjuhen programuese python
 def dekriptimi(teksti,qelesi):
   rezultati = ""
   
   #kalimi neper secilin karakter
   for i in range(len(teksti)):
      char = teksti[i]
      ####1
      
      #Enkriptimi i shkronjave te medha
      if(char.isupper()):
         rezultati += chr((ord(char) - int(qelesi) - 65) % 26 + 65)
         
      #Enkriptimi i shkronjave te vogla
      elif(char.islower()):
         rezultati += chr((ord(char) - int(qelesi) - 97) % 26 + 97)
         
      elif(char<chr(65)):
         rezultati += char
         
         
      else:
         rezultati += " "
      
   return rezultati
   
 #E japim tekstin dhe qelesin per 

 teksti = input("Jepni tekstin : ")
 qelesi=input("Jepni qelesin:")
 print("Teksti qe do dekriptohet : " + teksti)
 print("Qelesi : " + str(qelesi))
 print ("Teksti i dekriptuar : " + dekriptimi(teksti,qelesi))
 def func0():
    #enkriptimi me caesar crypt ne gjuhen programuese python
 def enkriptimi(teksti,qelesi):
  rezultati = ""
  #kalimi neper secilin karakter te tekstit
  for i in range(len(teksti)):
     char = teksti[i]
     
     #Enkriptimi i shkronjjave te medha , ne ASCII code nga 65
     if(char.isupper()):
        rezultati += chr((ord(char) + int(qelesi)-65) % 26 + 65)
     
     #Enkriptimi i shkronjave te vogla , ne ASCII code nga 97
     elif(char.islower()):
        rezultati += chr((ord(char) + int(qelesi) - 97) % 26 + 97)
     
     #Enkriptimi i simboleve dhe nurave qe mbesin te njejte , ASCII 1-64
     elif(char<chr(65)):
        rezultati+=char
        
     #Ne rast se kemi hapsira ato perfillen
     else:
        rezultati+=" "
     
  return rezultati

 #E japin tekstin dhe qelesi dhe e testojme funksionin
 teksti = input("Jepni tekstin:")
 qelesi = input("Jepni qelesin:")
 print("Teksti qe do enkriptohet : " + teksti)

 print ("Teksti i enkriptuar: " + enkriptimi(teksti,qelesi))

def func1():
 class BealsCipher:
    def __init__(self):
        choose_function = input("Enter e to encode or d to decode:")
        if(choose_function.lower() == 'e'):
            self.encoder()
        elif(choose_function.lower() == 'd'):
            self.decoder()
        else:
            print("Please try again!")
    def encoder(self):
        book = input("Enter text file to use as key:")
        word = input("Enter word to encode:")
        outArray = []
        f = open(book, "r")
        book_characters = list(f.read())
        word_characters = list(word)

        output_array = []
        lastIdx = 0
        for char in word_characters:
            try:
                charidx = book_characters.index(char,lastIdx,len(book_characters) -1)
                lastIdx = charidx
                output_array.append(charidx + 1)
            except ValueError as e:
                charidx = book_characters.index(char,0,lastIdx)
                lastIdx = charidx
                output_array.append(charidx + 1)
        result = ""
        for x in output_array: 
            result += str(x) + " "
        print("Encoded word: " + result)
                
    def decoder(self):
        book = input("Enter text file to use as key:")
        word = input("Enter word to decode:")
        outArray = []
        f = open(book, "r")
        book_characters = list(f.read())
        output_array = []
        word_encoded = word.strip().split(" ")
        for char in word_encoded:
            output_array.append(book_characters[int(char)-1])
        result = ""
        for x in output_array: 
            result += x
        print("Decoded word: " + result)
 
 BealsCipher()
def func2():
 class PermutationCipher:
    def __init__(self):
        choose_function = input("Enter e to encode or d to decode:")
        cipher_input = input("Enter permutation to use as key:")
        ciphertext = input("Enter word to encode/decode:")
        cipher = list(str(cipher_input).strip())
        cipher = [int(item) for item in cipher]
        ciphertext = ciphertext.strip()
        if(choose_function.lower() == 'e'):
            print(self.encrypt(cipher,ciphertext))
        elif(choose_function.lower() == 'd'):
            print(self.decrypt(cipher,ciphertext))
        else:
            print("Please try again!")


    def decrypt(self,cipher, ciphertext):
        ciphertext  = self.encrypt(self.inverse_key(cipher), ciphertext)
        return ciphertext[:-1]

    def encrypt(self,cipher, plaintext):
        
        plaintext = "".join(plaintext.split(" ")).lower()
        ciphertext = ""
        for pad in range(0, len(plaintext)%len(cipher)*-1%len(cipher)):
            plaintext += "x"
        for offset in range(0, len(plaintext), len(cipher)):
            for element in [a-1 for a in cipher]:
                ciphertext += plaintext[offset+element]
            ciphertext += " "
        return ciphertext[:-1]

    def inverse_key(self,cipher):
        inverse = []
        for position in range(min(cipher),max(cipher)+1,1):
            inverse.append(cipher.index(position)+1)
        return inverse
 
 PermutationCipher()
def func3():
   #caesar brute-force me te cilen provohen te gjithe qelesat e mundeshem
 #Mesazhi i enkriptuar
 mesazhi = 'PERSHENDETJE NGA FIEK!'
 shkronjat = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'

 print("caesar brute-force")

 for qelesi in range(len(shkronjat)):
   dekriptimi = ''
   
   for simboli in mesazhi:
   
      if simboli in shkronjat:
         num = shkronjat.find(simboli)
         num = num - qelesi
         
         if num < 0:
            num = num + len(shkronjat)
         dekriptimi += shkronjat[num]
         
      else:
         dekriptimi += simboli
   print('Qelesi #%s: %s' % (qelesi,dekriptimi))


def main():
        def ari():
            print("Gent baba")
        name=sys.argv[2]
        name2=sys.argv[1]
        
        
   
        makeKeyFiles(name,1024,name2,name5,name6)
        
        
 
 
 
 
 
 
 
            
            
          
            
            
    
      




